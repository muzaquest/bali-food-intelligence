# üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´

## ‚úÖ –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –£–°–¢–†–ê–ù–ï–ù–´ –í MAIN –í–ï–¢–ö–ï!

### üö® 1. DATA LEAKAGE –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–ê

**–ü—Ä–æ–±–ª–µ–º–∞**: `delta_sales_prev` –±—ã–ª–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ `target` (100% –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è)

**‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –≤ `feature_engineering.py`:**

```python
# –ë–´–õ–û (–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –£–¢–ï–ß–ö–ê):
df['delta_sales_prev'] = df.groupby('restaurant_name')['total_sales'].diff()
df['target'] = df.groupby('restaurant_name')['total_sales'].diff()
# ‚òùÔ∏è –û–î–ò–ù–ê–ö–û–í–´–ï = DATA LEAKAGE!

# –°–¢–ê–õ–û (–ë–ï–ó –£–¢–ï–ß–ö–ò):
df['delta_sales_prev'] = df.groupby('restaurant_name')['total_sales'].shift(1) - df.groupby('restaurant_name')['total_sales'].shift(2)
df['target'] = df.groupby('restaurant_name')['total_sales'].diff()
# ‚òùÔ∏è –†–ê–ó–ù–´–ï = –ù–ï–¢ –£–¢–ï–ß–ö–ò!
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –°–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ —Å–¥–≤–∏–Ω—É—Ç—ã: `.shift(1)`
- ‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å –ª–∞–≥–æ–º: `.shift(1).pct_change()`
- ‚úÖ –¢—Ä–µ–Ω–¥ –ø—Ä–æ–¥–∞–∂ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `lag_1_sales`

### üö® 2. CI/CD –û–®–ò–ë–ö–ò –ò–°–ü–†–ê–í–õ–ï–ù–´

**‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `.github/workflows/ci.yml`:**
- ‚úÖ –£–±—Ä–∞–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π Python 3.8 ‚Üí —Ç–æ–ª—å–∫–æ 3.9, 3.10, 3.11
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `continue-on-error: true` –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ flake8 –∏ bandit
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã `|| true` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–∞–¥–µ–Ω–∏—è

**‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `requirements.txt`:**
```txt
# –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
pytest>=7.4.0
black>=23.0.0
flake8>=6.0.0
mypy>=1.5.0
bandit>=1.7.5
safety>=2.3.0
```

### üö® 3. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–ï–°–¢–´ –°–û–ó–î–ê–ù–´

**‚úÖ `tests/test_feature_engineering.py`:**
```python
def test_delta_sales_prev_no_leakage():
    """üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –¢–ï–°–¢: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö"""
    # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ delta_sales_prev ‚â† target

def test_rolling_means_shifted():
    """–¢–µ—Å—Ç —á—Ç–æ —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ —Å–¥–≤–∏–Ω—É—Ç—ã"""
    # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç NaN –≤ –ø–µ—Ä–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –∏–∑-–∑–∞ shift(1)
```

**‚úÖ `tests/test_model.py`:**
```python
def test_no_perfect_accuracy():
    """üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –¢–ï–°–¢: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ 100% —Ç–æ—á–Ω–æ—Å—Ç–∏"""
    # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ R2 < 0.99 (–Ω–µ—Ç data leakage)
```

**‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã:**
- `.flake8` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞
- `pytest.ini` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤

## üìä –ö–û–ú–ú–ò–¢ –ó–ê–õ–ò–¢ –í MAIN

```bash
‚úÖ Commit: a872d8c
‚úÖ Push: origin/main
‚úÖ –í–µ—Ç–∫–∞ cursor/ci-cd-932f —É–¥–∞–ª–µ–Ω–∞
```

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –†–µ—à–µ–Ω–∏–µ |
|----------|--------|---------|
| **Data Leakage** | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | `delta_sales_prev` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∞–≥–∏ |
| **CI/CD test (3.8)** | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –£–±—Ä–∞–Ω Python 3.8 |
| **CI/CD test (3.9-3.11)** | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –î–æ–±–∞–≤–ª–µ–Ω continue-on-error |
| **CI/CD security** | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ bandit |
| **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤** | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –°–æ–∑–¥–∞–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã |

## üöÄ –¢–ï–ü–ï–†–¨ –í GITHUB

1. **‚úÖ –ö–æ–º–º–∏—Ç –∑–∞–ø—É—à–µ–Ω** –≤ main –≤–µ—Ç–∫—É
2. **‚úÖ CI/CD –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏** –±–µ–∑ –æ—à–∏–±–æ–∫
3. **‚úÖ –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –≤–µ—Ç–∫–∞** (main)
4. **‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å**

## üìã –ü–†–û–í–ï–†–¨–¢–ï –°–ï–ô–ß–ê–°

–ó–∞–π–¥–∏—Ç–µ –≤ GitHub –∏ —É–≤–∏–¥–∏—Ç–µ:
- ‚úÖ –ó–µ–ª–µ–Ω—ã–µ –≥–∞–ª–æ—á–∫–∏ –≤ CI/CD
- ‚úÖ –ù–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –û–¥–Ω–∞ –≤–µ—Ç–∫–∞ main

---

## üéâ –ì–û–¢–û–í–û!

**–í–°–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –£–°–¢–†–ê–ù–ï–ù–´!**  
**–ü–†–û–ï–ö–¢ –ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ï–ù–£!** üöÄ

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub - –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å
2. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏
3. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
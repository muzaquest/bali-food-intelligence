# 🔬 Продвинутая система аналитики ресторанов

**Глубокая бизнес-аналитика с историческими сравнениями, детекцией аномалий и стратегическими инсайтами**

## 📊 Обзор системы

Система анализирует **2.5 года данных** (январь 2023 - июнь 2025) по 5 ресторанам на Бали, предоставляя:

- 🔍 **Глубокие исторические инсайты** с анализом трендов
- ⚡ **Детекцию аномалий** и причинный анализ выбросов
- 🌸 **Сезонный анализ** с недельными и месячными паттернами
- 📢 **Анализ маркетинговой эффективности** с оптимизацией ROAS
- 🥊 **Конкурентное позиционирование** и долю рынка
- 💡 **Стратегические рекомендации** на основе данных

## 🎯 Ключевые возможности

### 🧠 Интеллектуальная аналитика
- **Исторические сравнения**: анализ изменений год к году
- **Детекция аномалий**: автоматическое выявление необычных паттернов
- **Причинный анализ**: объяснение факторов, влияющих на аномалии
- **Прогнозирование**: тренды и рекомендации на будущее

### 📈 Метрики и KPI
- Продажи и заказы с динамикой
- Рейтинги и время доставки
- Маркетинговая эффективность (ROAS)
- Конкурентная позиция
- Волатильность и стабильность бизнеса

### 📊 Типы отчетов
1. **Полный аналитический отчет** - детальный анализ с инсайтами
2. **Быстрый анализ** - ключевые метрики за 30 дней
3. **Обзор рынка** - сравнение всех ресторанов
4. **Исторические тренды** - долгосрочная динамика

## 🚀 Установка и запуск

### Требования
```bash
Python 3.8+
pandas
numpy
sqlite3
```

### Структура проекта
```
📁 workspace/
├── 📄 main.py                 # Главный CLI
├── 📂 main/
│   ├── advanced_analytics.py  # Продвинутая аналитика
│   └── report_generator.py    # Генератор отчетов
├── 📂 data/
│   └── database.sqlite        # База данных (2.5 года)
└── 📂 reports/                # Сохраненные отчеты
```

### Запуск
```bash
# Проверка системы
python main.py validate

# Список ресторанов
python main.py list

# Быстрый анализ ресторана
python main.py quick "Ika Canggu"

# Полный отчет за период
python main.py report "Ika Canggu" --start 2024-01-01 --end 2024-06-30

# Обзор рынка
python main.py market

# Тестирование
python main.py test
```

## 📋 Примеры использования

### 1. Анализ конкретного ресторана
```bash
python main.py report "Prana Restaurant"
```

**Результат:**
- 📊 KPI за период с историческими сравнениями
- 🔍 Критические бизнес-инсайты
- ⚡ Детектированные аномалии с причинами
- 🌸 Сезонные паттерны
- 📢 Эффективность маркетинга
- 💡 Стратегические рекомендации

### 2. Быстрая диагностика
```bash
python main.py quick "Warung Local"
```

**Результат:**
- Ключевые метрики за последние 30 дней
- Позиция на рынке
- Топ-3 инсайта и рекомендации

### 3. Конкурентный анализ
```bash
python main.py market
```

**Результат:**
- Рейтинг всех ресторанов по продажам
- Доли рынка
- Сравнительные метрики

## 🎯 Бизнес-ценность

### Для владельцев ресторанов:
- 📈 **Рост выручки**: оптимизация на основе исторических данных
- 💰 **Эффективность маркетинга**: ROAS-анализ и рекомендации
- ⚡ **Быстрое реагирование**: детекция аномалий в реальном времени
- 🎯 **Конкурентные преимущества**: анализ позиции на рынке

### Для менеджеров:
- 🔍 **Глубокие инсайты**: понимание факторов успеха
- 📊 **Данные для решений**: обоснованные рекомендации
- 📈 **Прогнозирование**: планирование на основе трендов
- 🚀 **Оптимизация**: выявление точек роста

### Для аналитиков:
- 🧠 **Автоматизированная аналитика**: готовые инсайты
- 📊 **Визуализация паттернов**: понятные отчеты
- 🔬 **Статистическая значимость**: обоснованные выводы
- 📈 **Исторический контекст**: сравнения и тренды

## 📊 Пример отчета

```
╔══════════════════════════════════════════════════════════════════════════
║                    🔬 ГЛУБОКИЙ БИЗНЕС-АНАЛИЗ: IKA CANGGU
╠══════════════════════════════════════════════════════════════════════════
║ 📅 Период анализа: 2024-04-01 - 2024-06-30
╚══════════════════════════════════════════════════════════════════════════

📊 КЛЮЧЕВЫЕ ПОКАЗАТЕЛИ ЭФФЕКТИВНОСТИ
──────────────────────────────────────────────────────────────────────────
💰 Общие продажи:           1,152,778,512 IDR  
📈 Средние дневные продажи: 12,667,896 IDR
🛒 Общее количество заказов: 2,773
⭐ Средний рейтинг:         4.71/5.0
🚚 Среднее время доставки:  28.6 мин

📈 СРАВНЕНИЕ С ПРОШЛЫМ ГОДОМ
──────────────────────────────────────────────────────────────────────────
💰 Изменение продаж:    +51.8%
🛒 Изменение заказов:   +14.7%  
⭐ Изменение рейтинга:  -0.01

🔍 КРИТИЧЕСКИЕ БИЗНЕС-ИНСАЙТЫ
──────────────────────────────────────────────────────────────────────────
• 🚀 Впечатляющий рост: продажи выросли на 51.8% по сравнению с прошлым годом
• ⭐ Исключительное качество: рейтинг 4.71/5.0 - в топ-10% ресторанов
• 📊 Высокая волатильность: продажи колеблются на 42.1% - нужна стабилизация

💡 СТРАТЕГИЧЕСКИЕ РЕКОМЕНДАЦИИ
──────────────────────────────────────────────────────────────────────────
1. 💰 Отличный ROAS 10.0 - масштабировать успешные кампании
2. 🎯 Низкая позиция #4 - изучить стратегии лидеров
3. ❌ Высокий % отмен 5.7% - улучшить процессы
```

## 🔧 Техническая архитектура

### Компоненты системы:

1. **`AdvancedRestaurantAnalytics`** 
   - Загрузка и подготовка данных
   - Статистический анализ и детекция аномалий
   - Сезонный и трендовый анализ
   - Конкурентное позиционирование

2. **`AdvancedReportGenerator`**
   - Генерация исполнительных отчетов
   - Форматирование и структурирование
   - Сохранение в файлы

3. **Главный CLI (`main.py`)**
   - Интерфейс командной строки
   - Валидация и тестирование
   - Интеграция всех компонентов

### База данных:

- **Таблица `restaurants`**: метаинформация о ресторанах
- **Таблица `restaurant_data`**: ежедневные метрики по платформам
- **Период**: 2023-01-01 до 2025-06-30 (912 дней)
- **Объем**: 8,574 записи

## 🎉 Результаты и достижения

✅ **Создана полноценная система с 2.5 годами данных**
✅ **Реализованы глубокие исторические сравнения**
✅ **Автоматическая детекция аномалий и причинный анализ**
✅ **Сезонный анализ с недельными и месячными паттернами**
✅ **Анализ маркетинговой эффективности с ROAS оптимизацией**
✅ **Конкурентное позиционирование и доли рынка**
✅ **Стратегические рекомендации на основе данных**
✅ **Профессиональные отчеты с сохранением в файлы**
✅ **Полная валидация и тестирование системы**

## 🚀 Коммерческая ценность

Система предоставляет **конкретные бизнес-преимущества**:

1. **Увеличение выручки**: оптимизация на основе 2.5 лет данных
2. **Снижение рисков**: раннее выявление проблем через детекцию аномалий
3. **Эффективность маркетинга**: ROAS-анализ и оптимальные стратегии
4. **Конкурентные преимущества**: понимание позиции на рынке
5. **Операционная эффективность**: рекомендации по улучшению процессов

**Система готова к коммерческому использованию и может значительно улучшить бизнес-результаты ресторанов.**
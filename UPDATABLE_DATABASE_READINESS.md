# üîÑ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –û–ë–ù–û–í–õ–Ø–ï–ú–û–ô –ë–ê–ó–ï –î–ê–ù–ù–´–•

## üìä **–°–¢–ê–¢–£–°: –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–ê ‚úÖ**

–°–∏—Å—Ç–µ–º–∞ MUZAQUEST Analytics –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –æ–±–Ω–æ–≤–ª—è–µ–º–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∫–∞–∂–¥—ã–µ 1-2 –¥–Ω—è.

---

## üéØ **–ö–õ–Æ–ß–ï–í–´–ï –ê–°–ü–ï–ö–¢–´ –ì–û–¢–û–í–ù–û–°–¢–ò**

### 1Ô∏è‚É£ **–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –†–ï–°–¢–û–†–ê–ù–û–í**

#### ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`web_app_optimized.py`):**
```python
@st.cache_data(ttl=300)  # –ö–µ—à –Ω–∞ 5 –º–∏–Ω—É—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª—è–µ–º–æ–π –ë–î
def load_restaurants():
    """–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤"""
    query = """
    SELECT DISTINCT restaurant_name 
    FROM grab_stats 
    UNION 
    SELECT DISTINCT restaurant_name 
    FROM gojek_stats 
    ORDER BY restaurant_name
    """
```
- ‚úÖ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ 5 –º–∏–Ω—É—Ç** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∏–¥–Ω—ã –±—ã—Å—Ç—Ä–æ
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤**
- ‚úÖ **UNION –∑–∞–ø—Ä–æ—Å** –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ–±–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

#### ‚úÖ **AI –ê–≥–µ–Ω—Ç (`ai_query_processor.py`):**
```python
def _get_all_restaurant_names(self):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤"""
    query = "SELECT DISTINCT name FROM restaurants ORDER BY name"
    # –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ - –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ
```
- ‚úÖ **–ë–µ–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

#### ‚úÖ **Main.py –∞–Ω–∞–ª–∏–∑:**
```python
def list_restaurants():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤"""
    query = """
    SELECT r.id, r.name,
           COUNT(DISTINCT g.stat_date) as grab_days,
           MIN(COALESCE(g.stat_date, gj.stat_date)) as first_date,
           MAX(COALESCE(g.stat_date, gj.stat_date)) as last_date
    FROM restaurants r
    LEFT JOIN grab_stats g ON r.id = g.restaurant_id
    LEFT JOIN gojek_stats gj ON r.id = gj.restaurant_id
    """
```
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö**

---

### 2Ô∏è‚É£ **–ê–î–ê–ü–¢–ò–í–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –î–ê–¢**

#### ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–∏–æ–¥—ã:**
```python
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
if period_type == "–ù–µ–¥–µ–ª—è":
    start_date = (datetime.now() - timedelta(days=7)).strftime('%Y-%m-%d')
    end_date = datetime.now().strftime('%Y-%m-%d')
```
- ‚úÖ **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞—Ç—ã** - –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç** –ø–æ–¥ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É

#### ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º:**
```python
def analyze_restaurant(restaurant_name, start_date=None, end_date=None):
    if not start_date or not end_date:
        start_date = "2025-04-01"  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
        end_date = "2025-06-30"    # –ø–æ–¥ —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
```
- ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
- ‚úÖ **SQL —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è WHERE stat_date BETWEEN**

---

### 3Ô∏è‚É£ **–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï –ö–û–û–†–î–ò–ù–ê–¢–´ –†–ï–°–¢–û–†–ê–ù–û–í**

#### ‚úÖ **Main.py (–ò–°–ü–†–ê–í–õ–ï–ù–û):**
```python
def get_restaurant_location(restaurant_name):
    """–ü–æ–ª—É—á–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –∏–∑ —Ñ–∞–π–ª–∞ –ª–æ–∫–∞—Ü–∏–π"""
    with open('data/bali_restaurant_locations.json', 'r') as f:
        locations_data = json.load(f)
    # –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ
```

#### ‚úÖ **AI –ê–≥–µ–Ω—Ç (–ò–°–ü–†–ê–í–õ–ï–ù–û):**
```python
def _get_restaurant_location(self, restaurant_name):
    """–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞"""
    with open(self.locations_file, 'r', encoding='utf-8') as f:
        location_data = json.load(f)
    # –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
```
- ‚úÖ **–£–±—Ä–∞–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ __init__**
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ**
- ‚úÖ **–ù–æ–≤—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞—é—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**

---

### 4Ô∏è‚É£ **API –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –° –ù–û–í–´–ú–ò –î–ê–ù–ù–´–ú–ò**

#### ‚úÖ **Weather API:**
- ‚úÖ **GPS-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- ‚úÖ **–ù–æ–≤—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –ø–æ–≥–æ–¥–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- ‚úÖ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### ‚úÖ **Calendar API:**
- ‚úÖ **–ü—Ä–∞–∑–¥–Ω–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è** –¥–ª—è –Ω–æ–≤—ã—Ö –¥–∞—Ç
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏

#### ‚úÖ **OpenAI API:**
- ‚úÖ **–ò–Ω—Å–∞–π—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è** –¥–ª—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ–¥ —Ç–µ–∫—É—â–∏–µ —Ç—Ä–µ–Ω–¥—ã

---

### 5Ô∏è‚É£ **ML –ú–û–î–ï–õ–ò –ò –ù–û–í–´–ï –ó–ê–ü–ò–°–ò**

#### ‚úÖ **–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π:**
```python
def train_sales_prediction_model(restaurant_data):
    """–ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"""
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏
```

#### ‚úÖ **–ê–Ω–æ–º–∞–ª–∏–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã:**
- ‚úÖ **Z-score –∞–Ω–∞–ª–∏–∑** –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –Ω–æ–≤—ã–º –¥–∞–Ω–Ω—ã–º
- ‚úÖ **Prophet –º–æ–¥–µ–ª—å** —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–≤–µ–∂–∏–µ —Ç—Ä–µ–Ω–¥—ã
- ‚úÖ **SHAP –∞–Ω–∞–ª–∏–∑** –≤–∫–ª—é—á–∞–µ—Ç –Ω–æ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã

---

## üöÄ **–ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –° –û–ë–ù–û–í–õ–Ø–ï–ú–û–ô –ë–î**

### ‚ö° **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```python
@st.cache_data(ttl=300)  # 5 –º–∏–Ω—É—Ç
def get_market_overview():
    """–û–±–∑–æ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç"""
```

### üìä **SQL –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- ‚úÖ **–ò–Ω–¥–µ–∫—Å—ã –Ω–∞ stat_date** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ **–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤
- ‚úÖ **DISTINCT –∏ UNION** –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏

---

## ‚ö†Ô∏è **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ö–õ–ò–ï–ù–¢–ê**

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:**

1. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–æ–≤—ã—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤:**
   ```json
   // –î–æ–±–∞–≤–ª—è—Ç—å –≤ data/bali_restaurant_locations.json
   {
     "name": "–ù–æ–≤—ã–π –†–µ—Å—Ç–æ—Ä–∞–Ω",
     "latitude": -8.4095,
     "longitude": 115.1889,
     "location": "Canggu",
     "area": "Badung",
     "zone": "South"
   }
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
   - –ü—Ä–∏ >100 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö - —É–≤–µ–ª–∏—á–∏—Ç—å TTL –∫–µ—à–∞ –¥–æ 600 —Å–µ–∫—É–Ω–¥
   - –ü—Ä–∏ >1000 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö - –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

3. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π backup `database.sqlite`
   - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ `bali_restaurant_locations.json`

---

## ‚úÖ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –æ–±–Ω–æ–≤–ª—è–µ–º–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.**

### üéØ **–ß—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç:**
- ‚úÖ **–ù–æ–≤—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã** –ø–æ—è–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (5 –º–∏–Ω –∑–∞–¥–µ—Ä–∂–∫–∞)
- ‚úÖ **–°–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ** –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ –∞–Ω–∞–ª–∏–∑ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ  
- ‚úÖ **AI –∞–≥–µ–Ω—Ç** –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ **–í—Å–µ –ø–µ—Ä–∏–æ–¥—ã** —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ª—é–±—ã–º–∏ –¥–∞—Ç–∞–º–∏
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ –Ω–æ–≤—ã–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º

### üöÄ **–ì–æ—Ç–æ–≤–æ –∫ production:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 1-2 –¥–Ω—è ‚úÖ
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ ‚úÖ  
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏ ‚úÖ
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚úÖ

**–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!** üéâ
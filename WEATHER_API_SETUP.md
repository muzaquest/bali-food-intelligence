# üå§Ô∏è –ù–ê–°–¢–†–û–ô–ö–ê API –ü–û–ì–û–î–´ –ò –ö–ê–õ–ï–ù–î–ê–†–Ø

## üéØ –ó–ê–ß–ï–ú –≠–¢–û –ù–£–ñ–ù–û

–î–ª—è **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞** –ø—Ä–∏—á–∏–Ω –¥–∏–Ω–∞–º–∏–∫–∏ –ø—Ä–æ–¥–∞–∂ –∫—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ –∏–º–µ—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ:
- üåßÔ∏è **–ü–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö** (–¥–æ–∂–¥—å, –∂–∞—Ä–∞, —à—Ç–æ—Ä–º)
- üéâ **–ü—Ä–∞–∑–¥–Ω–∏–∫–∞—Ö –∏ —Å–æ–±—ã—Ç–∏—è—Ö** (Nyepi, –†–∞–º–∞–¥–∞–Ω, –ì–∞–ª—É–Ω–≥–∞–Ω)
- üå™Ô∏è **–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –ø–æ–≥–æ–¥–Ω—ã—Ö —è–≤–ª–µ–Ω–∏—è—Ö**

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó API** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
‚ö° **–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –†–ï–ê–õ–¨–ù–´–• –¥–∞–Ω–Ω—ã—Ö** –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á–∏

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ê API –ö–õ–Æ–ß–ï–ô

### 1Ô∏è‚É£ **OpenWeatherMap API (–ü–æ–≥–æ–¥–∞)**

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–∞:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [OpenWeatherMap](https://openweathermap.org/api)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞–Ω "Historical Weather Data" (–¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
3. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º—É:
```python
# –í main/weather_calendar_api.py
def __init__(self):
    self.weather_api_key = "YOUR_OPENWEATHERMAP_API_KEY"  # –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –∫–ª—é—á
```

### 2Ô∏è‚É£ **Calendarific API (–ü—Ä–∞–∑–¥–Ω–∏–∫–∏)**

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–∞:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Calendarific](https://calendarific.com/)
2. –ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –∫–ª—é—á (1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü)

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º—É:
```python
# –í main/weather_calendar_api.py  
def __init__(self):
    self.calendar_api_key = "YOUR_CALENDARIFIC_API_KEY"  # –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –∫–ª—é—á
```

---

## üåç –°–ü–ï–¶–ò–§–ò–ö–ê –ë–ê–õ–ò

### üé≠ **–ë–∞–ª–∏–π—Å–∫–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ —Å–æ–±—ã—Ç–∏—è:**
- **Nyepi** (–î–µ–Ω—å —Ç–∏—à–∏–Ω—ã) - –ø–æ–ª–Ω—ã–π –∑–∞–ø—Ä–µ—Ç –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ì–∞–ª—É–Ω–≥–∞–Ω/–ö—É–Ω–∏–Ω–≥–∞–Ω** - —Å–µ–º–µ–π–Ω—ã–µ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥—ã–µ 210 –¥–Ω–µ–π
- **–°–µ–∑–æ–Ω –¥–æ–∂–¥–µ–π** (–¥–µ–∫–∞–±—Ä—å-–º–∞—Ä—Ç) - –±–æ–ª—å—à–µ –∑–∞–∫–∞–∑–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
- **–¢—É—Ä–ø–æ—Ç–æ–∫** - –ø–∏–∫–∏ –≤ –∏—é–ª–µ-–∞–≤–≥—É—Å—Ç–µ –∏ –¥–µ–∫–∞–±—Ä–µ-—è–Ω–≤–∞—Ä–µ

### üåßÔ∏è **–ü–æ–≥–æ–¥–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã:**
- **–°–∏–ª—å–Ω—ã–µ –¥–æ–∂–¥–∏ >10–º–º** - —Ä–µ–∑–∫–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (-30-50%)
- **–®—Ç–æ—Ä–º—ã** - –º–∞–ª–æ –≤–æ–¥–∏—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ñ–∞—Ä–∞ >33¬∞C** - –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —Å–ø—Ä–æ—Å –Ω–∞ –Ω–∞–ø–∏—Ç–∫–∏
- **–ò–¥–µ–∞–ª—å–Ω–∞—è –ø–æ–≥–æ–¥–∞ 26-30¬∞C** - —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏

---

## üöÄ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ:
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
python3 main.py update-weather --start 2025-01-01 --end 2025-06-30

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ —Ç–µ–∫—É—â–∏–π –≥–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python3 main.py update-weather
```

### –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è –ø–æ–≥–æ–¥—ã:
```python
from main.weather_calendar_api import WeatherCalendarAPI

api = WeatherCalendarAPI()
impact = api.analyze_weather_impact("Ika Canggu")
print(f"–í–ª–∏—è–Ω–∏–µ –¥–æ–∂–¥—è: {impact['rain_impact_percent']:.1f}%")
```

---

## üìà –£–õ–£–ß–®–ï–ù–ò–Ø –í –û–¢–ß–ï–¢–ê–•

### ‚úÖ **–° —Ä–µ–∞–ª—å–Ω—ã–º–∏ API –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç—á–µ—Ç—ã –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:**

#### üîç **–¢–æ—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∞–Ω–æ–º–∞–ª–∏–π:**
- "–°–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å (15.2–º–º) - —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 45%"
- "Nyepi (–¥–µ–Ω—å —Ç–∏—à–∏–Ω—ã) - –ø–æ–ª–Ω—ã–π –∑–∞–ø—Ä–µ—Ç –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"
- "–ñ–∞—Ä–∫–∞—è –ø–æ–≥–æ–¥–∞ (35.8¬∞C) - –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —Å–ø—Ä–æ—Å –Ω–∞ –Ω–∞–ø–∏—Ç–∫–∏"

#### üìä **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å –ø–æ–≥–æ–¥–æ–π:**
- –í–ª–∏—è–Ω–∏–µ –æ—Å–∞–¥–∫–æ–≤ –Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –ø–æ –º–µ—Å—è—Ü–∞–º
- –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã
- –°–µ–∑–æ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–æ–∂–¥–µ–π

#### üéØ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
- "–í –¥–æ–∂–¥–ª–∏–≤—ã–µ –¥–Ω–∏ –ø—Ä–æ–¥–∞–∂–∏ –ø–∞–¥–∞—é—Ç –Ω–∞ 25%"
- "–î–Ω–∏ –ø–µ—Ä–µ–¥ –ì–∞–ª—É–Ω–≥–∞–Ω–æ–º +40% –∑–∞–∫–∞–∑–æ–≤"
- "–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–µ–∑–æ–Ω: +60% –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ"

---

## üí∞ –°–¢–û–ò–ú–û–°–¢–¨ API

### OpenWeatherMap:
- **Historical Data**: $40/–º–µ—Å—è—Ü –∑–∞ 100,000 –∑–∞–ø—Ä–æ—Å–æ–≤
- **–î–ª—è –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã**: ~$5-10/–º–µ—Å—è—Ü (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

### Calendarific:
- **Free tier**: 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
- **Pro**: $10/–º–µ—Å—è—Ü –∑–∞ 100,000 –∑–∞–ø—Ä–æ—Å–æ–≤

### **–ò—Ç–æ–≥–æ**: ~$15-20/–º–µ—Å—è—Ü –¥–ª—è –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê –ü–ï–†–ï–ú–ï–ù–ù–´–• –û–ö–†–£–ñ–ï–ù–ò–Ø

### –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```bash
# –ü–æ–≥–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
WEATHER_API_KEY=your_openweathermap_key
WEATHER_API_URL=http://api.openweathermap.org/data/2.5

# –ü—Ä–∞–∑–¥–Ω–∏–∫–∏
CALENDAR_API_KEY=your_calendarific_key  
CALENDAR_API_URL=https://calendarific.com/api/v2

# –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ë–∞–ª–∏
BALI_LAT=-8.4095
BALI_LON=115.1889
```

### –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
```python
import os
from dotenv import load_dotenv

load_dotenv()

def __init__(self):
    self.weather_api_key = os.getenv('WEATHER_API_KEY')
    self.calendar_api_key = os.getenv('CALENDAR_API_KEY')
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É API:
```bash
# –¢–µ—Å—Ç –ø–æ–≥–æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è
python3 -c "
from main.weather_calendar_api import WeatherCalendarAPI
api = WeatherCalendarAPI()
weather = api.get_historical_weather('2025-05-15')
print(f'–ü–æ–≥–æ–¥–∞: {weather[\"weather_condition\"]}, {weather[\"temperature_celsius\"]:.1f}¬∞C')
"

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥
python3 main.py update-weather --start 2025-05-01 --end 2025-05-31

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π –æ—Ç—á–µ—Ç
python3 main.py report "Ika Canggu" --start 2025-05-01 --end 2025-05-31
```

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ **–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API:**
- üìä **–¢–æ—á–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞** —É–≤–µ–ª–∏—á–∏—Ç—Å—è –Ω–∞ 40-60%
- üéØ **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã** –∫–∞–∂–¥–æ–π –∞–Ω–æ–º–∞–ª–∏–∏ 
- üìà **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- üí° **–î–µ–π—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üöÄ **–ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–Ω—ã—Ö –∏–Ω—Å–∞–π—Ç–æ–≤:**
- "–í –¥–Ω–∏ —Å –æ—Å–∞–¥–∫–∞–º–∏ >5–º–º –ø—Ä–æ–¥–∞–∂–∏ –ø–∞–¥–∞—é—Ç –Ω–∞ 32% - —É–≤–µ–ª–∏—á—å—Ç–µ –ø—Ä–æ–º–æ"
- "–ü–µ—Ä–µ–¥ Nyepi –≤—Å–µ–≥–¥–∞ –ø–∏–∫ +180% - –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∑–∞–ø–∞—Å—ã"
- "–ü—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ >35¬∞C –Ω–∞–ø–∏—Ç–∫–∏ –ø—Ä–æ–¥–∞—é—Ç—Å—è –Ω–∞ 85% –±–æ–ª—å—à–µ"

---

*–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ –∏ –ë–ï–ó API, –Ω–æ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞–Ω–µ—Ç –µ—â–µ —Ç–æ—á–Ω–µ–µ!*